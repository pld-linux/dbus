diff -urN dbus-1.2.20/configure.in dbus-1.2.20.new/configure.in
--- dbus-1.2.20/configure.in	2010-02-03 18:09:08.000000000 +0100
+++ dbus-1.2.20.new/configure.in	2010-02-07 14:58:43.761263087 +0100
@@ -387,7 +387,7 @@
 
 #### Various functions
 AC_SEARCH_LIBS(socket,[socket network])
-AC_CHECK_FUNC(gethostbyname,,[AC_CHECK_LIB(nsl,gethostbyname)])
+AC_CHECK_FUNC(gethostbyname,,[AC_SEARCH_LIBS(gethostbyname,nsl)])
 
 AC_CHECK_FUNCS(vsnprintf vasprintf nanosleep usleep setenv clearenv unsetenv socketpair getgrouplist fpathconf setrlimit poll)
 
@@ -917,7 +917,7 @@
 
 if test x$enable_x11 = xyes ; then
    AC_DEFINE(DBUS_BUILD_X11,1,[Build X11-dependent code])
-   DBUS_X_LIBS="$X_LIBS $X_PRE_LIBS -lX11 $X_EXTRA_LIBS"
+   DBUS_X_LIBS="$X_LIBS -lX11 $X_EXTRA_LIBS"
    DBUS_X_CFLAGS="$X_CFLAGS"
 else
    DBUS_X_LIBS=
